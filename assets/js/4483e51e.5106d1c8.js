"use strict";(self.webpackChunkink_docs=self.webpackChunkink_docs||[]).push([[7314],{3905:(t,e,n)=>{n.d(e,{Zo:()=>p,kt:()=>g});var a=n(67294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var l=a.createContext({}),s=function(t){var e=a.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):c(c({},e),t)),n},p=function(t){var e=s(t.components);return a.createElement(l.Provider,{value:e},t.children)},u="mdxType",d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},h=a.forwardRef((function(t,e){var n=t.components,o=t.mdxType,r=t.originalType,l=t.parentName,p=i(t,["components","mdxType","originalType","parentName"]),u=s(n),h=o,g=u["".concat(l,".").concat(h)]||u[h]||d[h]||r;return n?a.createElement(g,c(c({ref:e},p),{},{components:n})):a.createElement(g,c({ref:e},p))}));function g(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=n.length,c=new Array(r);c[0]=h;var i={};for(var l in e)hasOwnProperty.call(e,l)&&(i[l]=e[l]);i.originalType=t,i[u]="string"==typeof t?t:o,c[1]=i;for(var s=2;s<r;s++)c[s]=n[s];return a.createElement.apply(null,c)}return a.createElement.apply(null,n)}h.displayName="MDXCreateElement"},92344:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>d,frontMatter:()=>r,metadata:()=>i,toc:()=>s});var a=n(87462),o=(n(67294),n(3905));const r={title:"Deploy Your Contract",slug:"/getting-started/deploy-your-contract",hide_title:!0},c=void 0,i={unversionedId:"getting-started/deploying",id:"getting-started/deploying",title:"Deploy Your Contract",description:"Now that we have generated the Wasm binary from our source code and connected to a local node, we want",source:"@site/docs/getting-started/deploying.md",sourceDirName:"getting-started",slug:"/getting-started/deploy-your-contract",permalink:"/getting-started/deploy-your-contract",draft:!1,editUrl:"https://github.com/paritytech/ink-docs/edit/master/docs/getting-started/deploying.md",tags:[],version:"current",frontMatter:{title:"Deploy Your Contract",slug:"/getting-started/deploy-your-contract",hide_title:!0},sidebar:"reference",previous:{title:"Run a Substrate Node",permalink:"/getting-started/running-substrate"},next:{title:"Call Your Contract",permalink:"/getting-started/calling-your-contract"}},l={},s=[{value:"Using the Contracts UI",id:"using-the-contracts-ui",level:2},{value:"1. Upload Contract Code",id:"1-upload-contract-code",level:3},{value:"2. Instantiate a Contract on the Blockchain",id:"2-instantiate-a-contract-on-the-blockchain",level:3},{value:"Using <code>cargo-contract</code>",id:"using-cargo-contract",level:2}],p={toc:s},u="wrapper";function d(t){let{components:e,...r}=t;return(0,o.kt)(u,(0,a.Z)({},p,r,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("img",{src:"/img/title/rocket.svg",className:"titlePic"}),(0,o.kt)("h1",{id:"deploy-your-contract"},"Deploy Your Contract"),(0,o.kt)("p",null,"Now that we have generated the Wasm binary from our source code and connected to a local node, we want\nto deploy this contract onto our Substrate blockchain."),(0,o.kt)("p",null,"Smart contract deployment on Substrate is a little different than on traditional smart contract\nblockchains."),(0,o.kt)("p",null,"Whereas a completely new blob of smart contract source code is deployed each time you push a\ncontract on other platforms, Substrate opts to optimize this behavior. For example, the standard\nERC20 token has been deployed to Ethereum thousands of times, sometimes only with changes to the\ninitial configuration (through the Solidity ",(0,o.kt)("inlineCode",{parentName:"p"},"constructor")," function). Each of these instances take\nup space on the blockchain equivalent to the contract source code size, even though no code was\nactually changed."),(0,o.kt)("p",null,"In Substrate, the contract deployment process is split into two steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Putting your contract code on the blockchain"),(0,o.kt)("li",{parentName:"ol"},"Creating an instance of your contract")),(0,o.kt)("p",null,"With this pattern, contract code like the ERC20 standard can be put on the blockchain one single\ntime, but instantiated any number of times. No need to continually upload the same source code over\nand waste space on the blockchain."),(0,o.kt)("h2",{id:"using-the-contracts-ui"},"Using the Contracts UI"),(0,o.kt)("h3",{id:"1-upload-contract-code"},"1. Upload Contract Code"),(0,o.kt)("p",null,"Here we will upload the contract code and instantiate one copy of the contract on the blockchain\n(which is usually why we upload the contract code in the first place):"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Go to ",(0,o.kt)("a",{parentName:"li",href:"https://contracts-ui.substrate.io/"},"https://contracts-ui.substrate.io/")),(0,o.kt)("li",{parentName:"ul"},"Click the ",(0,o.kt)("strong",{parentName:"li"},"Add New Contract")," button in the sidebar."),(0,o.kt)("li",{parentName:"ul"},"Click the ",(0,o.kt)("strong",{parentName:"li"},"Upload New Contract Code")," button in the Add New Contract page."),(0,o.kt)("li",{parentName:"ul"},"Choose an ",(0,o.kt)("strong",{parentName:"li"},"Instantiation account")," (e.g. ALICE)."),(0,o.kt)("li",{parentName:"ul"},"Give the contract a descriptive ",(0,o.kt)("strong",{parentName:"li"},"Name")," (e.g. Flipper Contract)."),(0,o.kt)("li",{parentName:"ul"},"Drag the ",(0,o.kt)("inlineCode",{parentName:"li"},"flipper.contract")," file that contains the bundled Wasm blob and metadata into the drag\n& drop area. You will see the UI parse the metadata and enabling the button that takes you to the next step."),(0,o.kt)("li",{parentName:"ul"},"Click the ",(0,o.kt)("strong",{parentName:"li"},"Next")," button")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Flipper Instantiate Contract 01",src:n(29833).Z,width:"2272",height:"1586"})),(0,o.kt)("h3",{id:"2-instantiate-a-contract-on-the-blockchain"},"2. Instantiate a Contract on the Blockchain"),(0,o.kt)("p",null,"Smart contracts exist as an extension of the account system on the blockchain. Thus creating an\ninstance of this contract will create a new ",(0,o.kt)("inlineCode",{parentName:"p"},"AccountId")," which will store any balance managed by the\nsmart contract and allow us to interact with the contract."),(0,o.kt)("p",null,"Now a screen displays the information that represents our smart contract. We are going to\ninstantiate a copy of the smart contract:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Accept the default options for the contract ",(0,o.kt)("strong",{parentName:"li"},"Deployment Constructor"),"."),(0,o.kt)("li",{parentName:"ul"},"Accept the default options ",(0,o.kt)("strong",{parentName:"li"},"Max Gas Allowed")," of ",(0,o.kt)("inlineCode",{parentName:"li"},"200000"),"."),(0,o.kt)("li",{parentName:"ul"},"Click on ",(0,o.kt)("inlineCode",{parentName:"li"},"Next"))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Flipper Instantiate Contract 02",src:n(82573).Z,width:"2588",height:"1778"})),(0,o.kt)("p",null,"The transaction is now queued, review your data and click ",(0,o.kt)("strong",{parentName:"p"},"Upload and Instantiate")," or go back and modify your inputs."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Flipper Instantiate Contract 03",src:n(48191).Z,width:"2396",height:"1778"})),(0,o.kt)("p",null,"When you click ",(0,o.kt)("strong",{parentName:"p"},"Upload and Instantiate")," you should see\nthe extrinsic ",(0,o.kt)("inlineCode",{parentName:"p"},"instantiateWithCode")," is processing, and a flurry of events appear including the\ncreation of a new account (",(0,o.kt)("inlineCode",{parentName:"p"},"system.NewAccount"),") and the instantiation of the contract\n(",(0,o.kt)("inlineCode",{parentName:"p"},"contracts.Instantiated"),").\nYou will be redirected to a new page, where you can interact with the newly created contract instance."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Flipper Instantiate Success",src:n(14417).Z,width:"2396",height:"1778"})),(0,o.kt)("h2",{id:"using-cargo-contract"},"Using ",(0,o.kt)("inlineCode",{parentName:"h2"},"cargo-contract")),(0,o.kt)("p",null,"Contracts can be deployed via the command-line as well. With ",(0,o.kt)("inlineCode",{parentName:"p"},"cargo-contract"),"\nit's just a simple sequence of:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cargo contract build\ncargo contract upload --suri //Alice\ncargo contract instantiate --suri //Alice --args true\n")))}d.isMDXComponent=!0},29833:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/contracts-ui-0-2c4dfe8d0bd5999bbd3a7c18c04b4210.png"},82573:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/contracts-ui-1-1182917a65f2198560ea8769359806bb.png"},48191:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/contracts-ui-2-5a1361c41163cb95b9bb942c7a2a9cf8.png"},14417:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/contracts-ui-3-55fe9a77f09f39f3d2445267313a873a.png"}}]);