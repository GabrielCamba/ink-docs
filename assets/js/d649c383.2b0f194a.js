"use strict";(self.webpackChunkink_docs=self.webpackChunkink_docs||[]).push([[7298],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>k});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(a),m=r,k=u["".concat(l,".").concat(m)]||u[m]||d[m]||i;return a?n.createElement(k,o(o({ref:t},c),{},{components:a})):n.createElement(k,o({ref:t},c))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:r,o[1]=s;for(var p=2;p<i;p++)o[p]=a[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},46195:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const i={title:"ink! Analyzer",slug:"/getting-started/ink-analyzer"},o=void 0,s={unversionedId:"third-party-tools/ink-analyzer",id:"version-5.x/third-party-tools/ink-analyzer",title:"ink! Analyzer",description:"ink! analyzer is a collection of modular and reusable libraries and tools for semantic analysis of ink! smart contract code.",source:"@site/versioned_docs/version-5.x/third-party-tools/ink-analyzer.md",sourceDirName:"third-party-tools",slug:"/getting-started/ink-analyzer",permalink:"/5.x/getting-started/ink-analyzer",draft:!1,editUrl:"https://github.com/paritytech/ink-docs/edit/master/versioned_docs/version-5.x/third-party-tools/ink-analyzer.md",tags:[],version:"5.x",frontMatter:{title:"ink! Analyzer",slug:"/getting-started/ink-analyzer"},sidebar:"reference",previous:{title:"Swanky Node",permalink:"/5.x/getting-started/swanky/node"},next:{title:"ink!athon DApp Boilerplate",permalink:"/5.x/getting-started/inkathon"}},l={},p=[{value:"Problem",id:"problem",level:2},{value:"Solution",id:"solution",level:2},{value:"Diving Deeper",id:"diving-deeper",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(u,(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/ink-analyzer"},"ink! analyzer")," is a collection of modular and reusable libraries and tools for semantic analysis of ink! smart contract code."),(0,r.kt)("p",null,"ink! analyzer aims to improve ink! language support in ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Integrated_development_environment"},"integrated development environments (IDEs)"),", ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Source-code_editor"},"source code editors")," and other development tools by providing modular and reusable building blocks for implementing language features (e.g. diagnostic errors, quick fixes, code completion suggestions, code/intent actions and hover content e.t.c) for the ink! programming language."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Semantic Analyzer (",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ink-analyzer/ink-analyzer/tree/master/crates/analyzer"},"source code"),", ",(0,r.kt)("a",{parentName:"li",href:"https://crates.io/crates/ink-analyzer"},"crates.io"),", ",(0,r.kt)("a",{parentName:"li",href:"https://docs.rs/ink-analyzer/latest/ink_analyzer/"},"docs.rs"),")."),(0,r.kt)("li",{parentName:"ul"},"Language Server (",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ink-analyzer/ink-analyzer/tree/master/crates/lsp-server"},"source code"),", ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ink-analyzer/ink-analyzer/releases"},"binary/executable releases"),", ",(0,r.kt)("a",{parentName:"li",href:"https://crates.io/crates/ink-lsp-server"},"crates.io"),", ",(0,r.kt)("a",{parentName:"li",href:"https://docs.rs/ink-lsp-server/latest/ink_lsp_server/"},"docs.rs"),")."),(0,r.kt)("li",{parentName:"ul"},"Visual Studio Code Extension (",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ink-analyzer/ink-vscode"},"source code"),", ",(0,r.kt)("a",{parentName:"li",href:"https://marketplace.visualstudio.com/items?itemName=ink-analyzer.ink-analyzer"},"VS Code Marketplace listing"),", ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ink-analyzer/ink-vscode/releases"},"VSIX releases"),").")),(0,r.kt)("h2",{id:"problem"},"Problem"),(0,r.kt)("p",null,"While ink! developers can leverage Rust tooling and excellent IDE/code editor support via ",(0,r.kt)("a",{parentName:"p",href:"https://rust-analyzer.github.io/"},"rust-analyzer")," and ",(0,r.kt)("a",{parentName:"p",href:"https://www.jetbrains.com/rust/"},"IntelliJ Rust")," because ",(0,r.kt)("a",{parentName:"p",href:"https://use.ink/getting-started/creating-an-ink-project"},'"ink! is just standard Rust in a well-defined "contract format" with specialized ',(0,r.kt)("inlineCode",{parentName:"a"},"#[ink(\u2026)]"),' attribute macros"'),",\nrelying on only generic Rust language support in IDEs, code editors and other development tools has some significant limitations for the developer experience including:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"No language support (e.g. diagnostic errors/warnings and quick fixes) for ink!'s domain specific semantic rules for smart contracts (e.g. exactly one ",(0,r.kt)("inlineCode",{parentName:"li"},"#[ink(storage)]")," struct, at least one ",(0,r.kt)("inlineCode",{parentName:"li"},"#[ink(message)]")," method and the same for ",(0,r.kt)("inlineCode",{parentName:"li"},"#[ink(constructor)]"),", ink! attributes should be applied to items of the correct type e.t.c)."),(0,r.kt)("li",{parentName:"ul"},"Inconsistent editor experience with issues like no code completion and/or hover content for some ink! attribute arguments (e.g ",(0,r.kt)("inlineCode",{parentName:"li"},"#[ink(payable)]"),") because ",(0,r.kt)("a",{parentName:"li",href:"https://rust-lang.github.io/compiler-team/working-groups/rls-2.0/#scope-and-purpose"},"macro expansion/name resolution and trait resolution are hard problems for generic IDE/code editor tools")," (see also ",(0,r.kt)("a",{parentName:"li",href:"https://rust-analyzer.github.io/blog/2021/11/21/ides-and-macros.html"},"https://rust-analyzer.github.io/blog/2021/11/21/ides-and-macros.html"),")."),(0,r.kt)("li",{parentName:"ul"},"No language support (e.g. go to definition, find references and rename/refactor) for ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/paritytech/ink/blob/v4.2.1/crates/ink/ir/src/ast/mod.rs#L19-L25"},"ink! specific syntax like paths in ink! attribute argument values (e.g. ",(0,r.kt)("inlineCode",{parentName:"a"},"env")," values)"),".")),(0,r.kt)("h2",{id:"solution"},"Solution"),(0,r.kt)("p",null,"To solve the above challenges and improve ink! language support in IDEs, code editors and other development tools, ink! analyzer creates two main components:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/ink-analyzer/ink-analyzer/tree/master/crates/analyzer"},"A modular domain-specific semantic analysis library for ink!")," built on a ",(0,r.kt)("a",{parentName:"li",href:"https://analyze.ink/blog/introducing-ink-analyzer#1-semantic-analyzer"},"resilient and lossless parser"),"."),(0,r.kt)("li",{parentName:"ul"},"A ",(0,r.kt)("a",{parentName:"li",href:"https://microsoft.github.io/language-server-protocol/"},"Language Server Protocol (LSP)")," ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ink-analyzer/ink-analyzer/tree/master/crates/lsp-server"},"implementation")," built on top of the aforementioned semantic analysis library.")),(0,r.kt)("p",null,"These two components can be reused to add ink! language support to multiple IDEs, code editors and other development tools."),(0,r.kt)("p",null,"In particular, a large number of IDEs and code editors support LSP servers either via configurable LSP clients or robust LSP client libraries/APIs/modules, including ",(0,r.kt)("a",{parentName:"p",href:"https://microsoft.github.io/language-server-protocol/implementors/tools/"},"Visual Studio Code, Visual Studio, Vim / Neovim, Emacs, Atom, Sublime Text, Acme, Lapce, Eclipse and many more"),"."),(0,r.kt)("p",null,"ink! analyzer makes it relatively easy for:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Users to enable ink! language support for their IDE, code editor or other development tool if it has either a native/built-in or third-party LSP client that can be configured to launch an LSP server using an executable command (i.e. the path to an ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/ink-analyzer/ink-analyzer/tree/master/crates/lsp-server#installation"},"installed ink! Language Server binary"),") and can use stdio (standard in/standard out) as the message transport."),(0,r.kt)("li",{parentName:"ul"},"Developers to either build extensions/plugins/integrations that add ink! language support to any tool with robust LSP client libraries/APIs/modules, or add first-class ink! language support to an existing LSP client (e.g. an open-source extension/plugin/integration).")),(0,r.kt)("p",null,"In addition to ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ink-analyzer/ink-analyzer/releases"},"distributing compiled ink! Language Server (",(0,r.kt)("inlineCode",{parentName:"a"},"ink-lsp-server"),") binaries for most of the major platforms/architectures"),",\nink! analyzer additionally distributes a ",(0,r.kt)("a",{parentName:"p",href:"https://marketplace.visualstudio.com/items?itemName=ink-analyzer.ink-analyzer"},"Visual Studio Code extension")," that ships with a bundled ink! Language Server as a showcase and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ink-analyzer/ink-vscode"},"reference implementation")," for the latter use case."),(0,r.kt)("h2",{id:"diving-deeper"},"Diving Deeper"),(0,r.kt)("p",null,"To learn more about ink! analyzer, read the ",(0,r.kt)("a",{parentName:"p",href:"https://analyze.ink/blog/introducing-ink-analyzer"},"introductory blog post")," and/or check out the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/ink-analyzer"},"ink! analyzer organization on GitHub")," for source code, technical documentation, installation and usage instructions, and links to useful resources."),(0,r.kt)("p",null,"Issues, bug reports, PRs and feature requests are welcome at the respective GitHub repositories \ud83d\ude42."))}d.isMDXComponent=!0}}]);